#:kivy 1.8.0
#:set white (1, 1, 1)
#:set blue (0x0F / 255., 0x1B / 255., 0x29 / 255.)
#:set turquoise (0x21 / 255., 0x8D / 255., 0x80 / 255.)
#:set light_blue (0x6A / 255., 0xBE / 255., 0xB1 / 255.)
#:set grey (0xB8 / 255., 0xC6 / 255., 0xA5 / 255.)
#:set creamy (0xF6 / 255., 0xF8 / 255., 0xD3 / 255.)


<BackgroundBoxLayout@BoxLayout>:
    orientation: "vertical"
    canvas:
        Color:
            rgb: blue
        Rectangle:
            pos: self.pos
            size: self.size

<SleepButton@Button>:
    background_color: creamy
    font_name: 'assets/fonts/DroidSans.ttf'
    font_size: '20dp'
    bold: True
    # color: blue
    # background_normal: 'assets/imgs/mask.png'
    # background_down: 'mask.png'


<MenuButton@Button>:
    font_name: 'assets/fonts/DroidSans.ttf'

<BasicLabel@Label>:
    markup: True
    color: creamy
    font_name: 'assets/fonts/DroidSans.ttf'


<SleepScreen>:
    id: sleep
    BackgroundBoxLayout:
        id: sleep
        padding: '40dp', min(root.height, root.width) / 4., '40dp', min(root.height, root.width) / 2.

        SleepButton:
            id: toggle_rec_btn
            text: "Start"
            size_hint: 1, .4
        BasicLabel:
            id: sleep_label
            text: "Press the Start button\n to initiate recording"
        
    AnchorLayout:
        anchor_x: 'center'
        anchor_y: 'bottom'
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .12
            MenuButton:
                text: 'Statistics'
                on_press: root.manager.current = 'statistics'
            MenuButton:
                text: "Settings"
                on_press: root.manager.current = 'settings'


<StatisticsScreen>:
    BackgroundBoxLayout:
        id: statistics
        ActionBar:
            ActionView:
                use_separator: True
                ActionPrevious:
                    with_previous: False
                ActionGroup:
                    text: 'Select date range'
                    ActionButton:
                        text: 'Last day'
                    ActionButton:
                        text: 'Last 3 days'
                    ActionButton:
                        text: 'Last month'
                    ActionButton:
                        text: 'Last year'

        BoxLayout:
            orientation: "vertical"
            BasicLabel:
                text: "Time of recording - 8h"
            BasicLabel:
                text: "Time of snoring - 2h"


<WeekdayLabel@Label>:
    markup: True
    color: turquoise
    font_name: 'assets/fonts/DroidSans.ttf'


<SettingsScreen>:
    BackgroundBoxLayout:
        id: settings
        padding: '10dp'
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .2
            BasicLabel:
                font_size: min(root.height, root.width) / 22.
                text: "Regular recording"
                text_size: (root.width / 2.3, None)
            Switch:
                id: settings_switch
        BoxLayout:
            orientation: "horizontal"
            size_hint: 1, .1
            font_size: min(root.height, root.width) / 22.
            WeekdayLabel:
                text: "Mon"
            WeekdayLabel:
                text: "Tue"
            WeekdayLabel:
                text: "Wed"
            WeekdayLabel:
                text: "Thu"
            WeekdayLabel:
                text: "Fri"
            WeekdayLabel:
                text: "Sat"
            WeekdayLabel:
                text: "Sun"
        BoxLayout:
            id: checkboxes
            orientation: "horizontal"
            size_hint: 1, .05
            CheckBox:
                disabled: True
            CheckBox:
                disabled: True
            CheckBox:
                disabled: True
            CheckBox:
                disabled: True
            CheckBox:
                disabled: True
            CheckBox:
                disabled: True
            CheckBox:
                disabled: True
        StackLayout:
            orientation: "lr-tb"
            size_hint: 1, .2
            padding: [0, min(root.height, root.width)/8]
            BasicLabel:
                text: "Start"
                size_hint: .4, 1
            TextInput:
                id: start_hour
                size_hint: .17, None
                height: min(root.height, root.width) / 8.
                font_size: min(root.height, root.width) / 20.
                padding: [10, (self.height-self.font_size)/2.5]
                multiline: False
                input_filter: 'int'
                text: 'HH'
                disabled: True
            BasicLabel:
                size_hint: .1, 1
                text: ":"
            TextInput:
                id: start_minute
                size_hint: .17, None
                height: min(root.height, root.width) / 8.
                font_size: min(root.height, root.width) / 20.
                padding: [10, (self.height-self.font_size)/2.5]
                multiline: False
                input_filter: 'int'
                text: 'MM'
                disabled: True
        StackLayout:
            orientation: "lr-tb"
            size_hint: 1, .2
            padding: [0, min(root.height, root.width)/8]
            BasicLabel:
                text: "Finish"
                size_hint: .4, 1
            TextInput:
                id: finish_hour
                size_hint: .17, None
                height: min(root.height, root.width) / 8.
                font_size: min(root.height, root.width) / 20.
                padding: [10, (self.height-self.font_size)/2.5]
                multiline: False
                input_filter: 'int'
                text: 'HH'
                disabled: True
            BasicLabel:
                size_hint: .1, 1
                text: ":"
            TextInput:
                id: finish_minute
                size_hint: .17, None
                height: min(root.height, root.width) / 8.
                font_size: min(root.height, root.width) / 20.
                padding: [10, (self.height-self.font_size)/2.5]
                multiline: False
                input_filter: 'int'
                text: 'MM'
                disabled: True
